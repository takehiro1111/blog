---
title: "Terragruntã‚’ç”¨ã„ã¦Terraformã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’å¤‰æ›´ã—ãŸè©±"
emoji: "ğŸ•Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Terraform","Terragrunt","AWS"]
published: false
---

![](/images/tf_tg/tf_tg.jpeg =400x)

## 1.èƒŒæ™¯
- å¼Šç¤¾ã§ã¯ã€å„AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã”ã¨ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã‚Šã€`production`,`acc`,`staging`ã®ç’°å¢ƒã”ã¨ã«
ã€€ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã£ã¦tfstateã‚’åˆ†ã‘ã¦ã„ã¾ã™ã€‚(å‰æã¨ã—ã¦ã€å˜ä¸€ã®AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä¸­ã«è¤‡æ•°ç’°å¢ƒãŒæ··åœ¨ã—ã¾ã™ã€‚)
   ç§ãŒå…¥ç¤¾ã—ã¦ã‹ã‚‰æ—¢ã«å‡ºæ¥ä¸ŠãŒã£ã¦ã„ãŸæ§‹æˆã®ãŸã‚ç†ç”±ã¯åˆ†ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ã®è¦æ¨¡ãŒå¤§ãããªã„äº‹ä¸¦ã³ã«
   outputã®ç®¡ç†å·¥æ•°ã‚’å‰²ããƒªã‚½ãƒ¼ã‚¹ãŒç„¡ã„ãŸã‚ã€ã‚ã¾ã‚Šç´°ã‹ãtfstateã‚’åˆ‡ã‚‹ã‚ˆã†ãªäº‹ã‚’ã—ã¦ãªã„ã®ã‹ã¨æ€ã„ã¾ã™ã€‚
  ```zsh:ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚¤ãƒ¡ãƒ¼ã‚¸
  tree -d -L 2
.
â”œâ”€â”€ account_A
â”‚Â Â  â”œâ”€â”€ acc
â”‚Â Â  â”œâ”€â”€ production
â”‚Â Â  â””â”€â”€ staging
â”œâ”€â”€ account_B
â”‚Â Â  â”œâ”€â”€ acc
â”‚Â Â  â”œâ”€â”€ production
â”‚Â Â  â””â”€â”€ staging
â”œâ”€â”€ account_C
â”‚Â Â  â”œâ”€â”€ acc
â”‚Â Â  â”œâ”€â”€ production
â”‚Â Â  â””â”€â”€ staging
  ```

- ä¸Šè¨˜ã®ã‚ˆã†ãªçŠ¶æ³ãŒã‚ã‚Šã€å€‹äººã®ãƒªãƒã‚¸ãƒˆãƒªã§ã¯ã‚‚ã£ã¨è‰²ã€…ã¨è©¦ã—ã¦ã¿ãŸã„ã¨æ„Ÿã˜ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
ã¾ãŸã€terraformã®ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹`terragrunt`ã‚‚çµ„ã¿è¾¼ã‚“ã§ã¿ãŸã‹ã£ãŸãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
å¤§åˆ†çœç•¥ã—ã¦ã„ã¾ã™ãŒã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯æŠ€è¡“çš„ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ã§åŒºåˆ‡ã£ã¦terragruntã§stateãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸­å¤®åˆ¶å¾¡ã—ã¦ã„ã¾ã™ã€‚
```zsh:takehiro1111/aws_terraform/developemnt/
.
â”œâ”€â”€ development
â”‚Â Â  â”œâ”€â”€ compute
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ xx.tf
â”‚Â Â  â”‚Â Â  â””â”€â”€ terragrunt.hcl
â”‚Â Â  â”œâ”€â”€ database
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ xx.tf
â”‚Â Â  â”‚Â Â  â””â”€â”€ terragrunt.hcl
â”‚Â Â  â”œâ”€â”€ management
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ xx.tf
â”‚Â Â  â”‚Â Â  â””â”€â”€ terragrunt.hcl
â”‚Â Â  â”œâ”€â”€ network
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ xx.tf
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ terragrunt.hcl
â”‚Â Â  â”œâ”€â”€ security
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ xx.tf
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ terragrunt.hcl
â”‚Â Â  â”œâ”€â”€ storage
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ xx.tf
â”‚Â Â  â”‚Â Â  â””â”€â”€ terragrunt.hcl
â”‚Â Â  â””â”€â”€ terragrunt.hcl
â”‚Â Â  â”œâ”€â”€ locals.yml
```

## 3.ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã®ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ


## 2.terragruntã¨ã¯?


## 4.terragruntã®ã‚³ãƒ¼ãƒ‰

